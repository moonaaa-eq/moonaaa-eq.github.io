<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="moonaa&#39;s blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="moonaa&#39;s blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="moonaa">
<meta property="article:tag" content="moonaa, visualvk">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/"/>





  <title>moonaa's blog</title>
  








<meta name="generator" content="Hexo 5.4.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">moonaa's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">trying and believe in yourself</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/19/docker/docker%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="moonaa's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/19/docker/docker%E5%AD%A6%E4%B9%A0/" itemprop="url">docker学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-06-19T15:30:42+08:00">
                2021-06-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="docker的组成"><a href="#docker的组成" class="headerlink" title="docker的组成"></a>docker的组成</h1><ul>
<li>docker-daemon<ul>
<li>守护进程</li>
</ul>
</li>
<li>docker-cli<ul>
<li>docker客户端</li>
</ul>
</li>
<li>docker-engine<ul>
<li>管理docker的容器的引擎</li>
</ul>
</li>
</ul>
<h1 id="一些docker的类比"><a href="#一些docker的类比" class="headerlink" title="一些docker的类比"></a>一些docker的类比</h1><ul>
<li>docker镜像=类</li>
<li>docker的容器=实体对象</li>
</ul>
<h1 id="docker的常用命令"><a href="#docker的常用命令" class="headerlink" title="docker的常用命令"></a>docker的常用命令</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拉取镜像</span></span><br><span class="line">docker pull &lt;mirror_name&gt;</span><br><span class="line"><span class="comment"># 后台运行镜像</span></span><br><span class="line">docker run -dp &lt;port1&gt;:&lt;port2&gt; --name &lt;container_name_customed&gt; &lt;mirror&gt;</span><br><span class="line"><span class="comment"># 展示正在运行的container</span></span><br><span class="line">docker ps</span><br><span class="line"><span class="comment"># 现实container的配置,常常用来查看ip地址，volume,以及挂在地址</span></span><br><span class="line">docker inspect &lt;container_name&gt;</span><br><span class="line"><span class="comment"># 查看磁盘挂在关系</span></span><br><span class="line">docker volumes inspect &lt;volume_name&gt;</span><br><span class="line"><span class="comment"># 提交镜像</span></span><br><span class="line">docker commit -a &lt;author_info&gt; -m &lt;commit message&gt; -p &lt;container_name_you_want_to_commit&gt; &lt;mirror_name_customed&gt;</span><br><span class="line"><span class="comment"># 提交镜像的例子</span></span><br><span class="line">docker commit -a <span class="string">&quot;Tom&quot;</span> -m <span class="string">&quot;docker mirror including jdk11 and tomcat&quot;</span> -p centos7 visualvk/tomcat_centos7</span><br><span class="line"><span class="comment"># 备份</span></span><br><span class="line">docker save -o &lt;path_you_want_to save&gt; &lt;mirror_name&gt;</span><br><span class="line"><span class="comment"># 备份例子</span></span><br><span class="line">docker save -o /tmp/mycentos_tomcat mycentos_comat</span><br><span class="line"><span class="comment"># 回复备份</span></span><br><span class="line">docker load -i &lt;path&gt;</span><br><span class="line"><span class="comment"># 回复备份例子</span></span><br><span class="line">docker load -i /tmp/mycentos_tomcat</span><br></pre></td></tr></table></figure>
<h1 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h1><p><strong>借助dockerfile可以快速创建容器</strong></p>
<ul>
<li>前置要求<ul>
<li>关于此容器所需要的文件，例如环境报（java,tomcat），配置文件等需要再过同一个文件下</li>
</ul>
</li>
<li>建议<ul>
<li>尽可以一个容器内所需要东西放在一个独立的文件夹中</li>
</ul>
</li>
</ul>
<p><strong>常用指令</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker build -t &lt;container_name_customed&gt; &lt;files_docker_needed&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 例子</span></span><br><span class="line">docker build -t mycentos_tomcat . # mycentos_tomcat依赖与`.`这个上下文背景</span><br></pre></td></tr></table></figure>
<p><strong>dockerfile中的常用关键字(大小写不明感)</strong></p>
<ul>
<li>from：由某一镜像生成容器<code>From centos:7</code></li>
<li>run：运行指令<code>run mv test.txt mv_test.txt</code></li>
<li>label：标签，可以写上作者信息等<code>label &quot;author&quot;=&quot;Tom&quot;</code></li>
<li>cmd：tty的命令执行<code>cmd [&quot;source&quot;,&quot;.zshrc&quot;]</code></li>
<li>entrypoint：与cmd类似<code>entrypoint</code> [“source”,”.zshrc”]</li>
<li>volume：新建卷（docker内），可以包含多个卷名<code>volume [&quot;/mysql&quot;]</code></li>
<li>expose：暴露端口<code>expose 8080</code></li>
<li>user：添加用户</li>
<li>workdir：工作目录<code>workdir /app</code></li>
<li>add：添加文件到docker,可以是文件名，也可是地址，如果文件是压缩包，会自动解压<code>add apache-tomcat.tar.gz /usr/local/tomcat</code></li>
<li>copy：拷贝到docker<code>copy . .</code></li>
<li>env：环境变量<code>env JAVA_HOME=/usr/local/java</code></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://docs.docker.com/engine/reference/builder/">更多详情</a></p>
<p><strong>一个dockerfile的例子</strong></p>
<ul>
<li><p>目标：基于centos创建一个带有jdk11的tomcat镜像</p>
</li>
<li><p>步骤：</p>
<ul>
<li>在$HOME中创建/dockerfile文件</li>
<li>创建dockerfile文件和tomcat文件</li>
<li>编写dockerfile</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">FROM centos</span><br><span class="line">RUN yum install -y open-java-jdk11.x86_64</span><br><span class="line">RUN mkdir /usr/local/tomcat</span><br><span class="line">ADD apache-tomcat-9.0.48.tar.gz /usr/local/tomcat</span><br><span class="line">ENV TOMCAT_HOME /usr/local/tomcat/apache-tomcat-9.0.48/</span><br><span class="line">ENV PATH $PATH:$TOMCAT_HOME/bin</span><br><span class="line">EXPOSE 8080</span><br><span class="line">CMD [&quot;catalina.sh&quot;,&quot;run&quot;]</span><br></pre></td></tr></table></figure>
<ul>
<li>开始创建</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t mycentos_tomcat .</span><br></pre></td></tr></table></figure>
<ul>
<li>运行镜像</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d mycentos_tomcat</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker-compose"></a>docker-compose</h1><p>简化重复输入docker命令，实现依据yml配置文件，启动容器</p>
<p>docker-compose默认会将同一个配置文件中的服务连接到一个默认的网络(app_default)，这个网络并不是各个服务的IP地址</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"><span class="comment"># 停止</span></span><br><span class="line">docker-compose down [--volumes] <span class="comment"># 一般不加volumes,因为重要数据在volumes中</span></span><br><span class="line"><span class="comment"># 跟踪部署情况</span></span><br><span class="line">docker-compose logs -f app <span class="comment"># app可以换成别的服务，例如mysql；也可以不输入，表示现实全部服务的信息</span></span><br></pre></td></tr></table></figure>
<h1 id="network诊断工具"><a href="#network诊断工具" class="headerlink" title="network诊断工具"></a>network诊断工具</h1><ul>
<li><p>nicolaka/networkshoot</p>
<ul>
<li>可以利用dig命令查询ip</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 连接到目的网络</span></span><br><span class="line">docker run -it app_default nicolaka/networkshoot <span class="comment"># -i：保证stdin打开 -t：tty</span></span><br><span class="line"><span class="comment"># 查询mysql的ip</span></span><br><span class="line">dig mysql</span><br></pre></td></tr></table></figure>
</li>
</ul>
<img src="/2021/06/19/docker/docker%E5%AD%A6%E4%B9%A0/dockermysqlans.png" class="dockermysqlans">

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/18/linux/linux-%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="moonaa's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/18/linux/linux-%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86%E5%AD%A6%E4%B9%A0/" itemprop="url">linux-日志管理学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-06-18T11:45:51+08:00">
                2021-06-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="syslogd"><a href="#syslogd" class="headerlink" title="syslogd"></a>syslogd</h1><ul>
<li>输出日志的格式：date+hostname+service+detail information</li>
<li>日志级别(级别依次递增)<ul>
<li>debug</li>
<li>info</li>
<li>notice</li>
<li>warnning</li>
<li>err</li>
<li>crit</li>
<li>alert</li>
<li>emerg</li>
<li>none</li>
</ul>
</li>
<li>日志设定<ul>
<li><code>&lt;名称&gt;.&lt;日志级别&gt; &lt;输出日志&gt;</code></li>
<li>例如：<code>local.* /var/log/local.log</code>，就表示local的所有类型的文件都输出到/var/log/local文件下</li>
</ul>
</li>
</ul>
<h2 id="logrotate"><a href="#logrotate" class="headerlink" title="logrotate"></a>logrotate</h2><p>自动滚动log的名字，同时自动清除就得日志</p>
<p>一些logrotate.conf的配置参数说明</p>
<img src="/2021/06/18/linux/linux-%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86%E5%AD%A6%E4%B9%A0/logrotateconf.png" class="logrotateconf">
<h1 id="journalctl"><a href="#journalctl" class="headerlink" title="journalctl"></a>journalctl</h1><p>主要是内存日志</p>
<p>一些和journalctl相关的指令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">journalctl -n 3 <span class="comment"># 展示最近3条信息，3可以换成其他数字</span></span><br><span class="line">journalctl -p err <span class="comment"># 展示错误信息，err可以换成其他的日志级别</span></span><br><span class="line">journalctl -since 19:00 -until 20:00 <span class="comment"># 筛选出某一时间段的日志</span></span><br><span class="line">journalctl -o verbose <span class="comment"># 展示日志详细内容</span></span><br><span class="line">journalctl | grep sshd <span class="comment"># 结合grep查出与sshd相关的日志</span></span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/16/linux/MySql%E5%9C%A8Linux%E4%B8%8A%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="moonaa's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/16/linux/MySql%E5%9C%A8Linux%E4%B8%8A%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/" itemprop="url">MySql在Linux上的安装和使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-06-16T12:08:56+08:00">
                2021-06-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="MySql安装环境说明"><a href="#MySql安装环境说明" class="headerlink" title="MySql安装环境说明"></a>MySql安装环境说明</h1><ul>
<li>OS: manjaro</li>
<li>MySql的linux-genric的tar包，<a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/file/?id=505123">下载地址</a></li>
<li>neovim</li>
<li>使用mycli进行mysql管理+phpmyadmin，这两个的安装可以查看archlinux的wiki</li>
</ul>
<h1 id="MySql安装"><a href="#MySql安装" class="headerlink" title="MySql安装"></a>MySql安装</h1><ol>
<li>解压Mysql的tar包</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf  mysql-8.0.25-linux-glibc2.12-x86_64.tar.xz -C /usr/local/</span><br></pre></td></tr></table></figure>
<ol>
<li>修改文件名</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv mysql-8.0.25-linux-glibc2.12-x86_64/ mysql</span><br></pre></td></tr></table></figure>
<ol>
<li>修改mysql文件的所有者</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chown -R visualvk /usr/<span class="built_in">local</span>/mysql</span><br></pre></td></tr></table></figure>
<ol>
<li>创建data文件夹</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/mysql &amp;&amp; mkdir data</span><br></pre></td></tr></table></figure>
<ol>
<li>初始化mysql</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/mysql</span><br><span class="line">./bin/mysqld --user=root --basedir=/usr/<span class="built_in">local</span>/mysql --datadir=/usr/<span class="built_in">local</span>/mysql/data --initialize</span><br></pre></td></tr></table></figure>
<p><strong>注意：初始化成功后，会生成一个密码，显示在终端上，把这个密码复制下来，后续修改需要用到</strong></p>
<ol>
<li>配置my.cfg，这个文件是mysql的配置文件</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">sudo nvim /etc/my.cfg</span><br><span class="line"><span class="comment">#以下是my.cfg的文件内容</span></span><br><span class="line">[client]</span><br><span class="line"><span class="comment"># Set mysql client socket file location</span></span><br><span class="line">socket = /usr/<span class="built_in">local</span>/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line"><span class="comment"># Set the mysql client default character set</span></span><br><span class="line">default-character-set = UTF8MB4</span><br><span class="line">socket = /usr/<span class="built_in">local</span>/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">innodb_buffer_pool_size = 128M</span><br><span class="line"></span><br><span class="line"><span class="comment"># mysql installation directory</span></span><br><span class="line">basedir = /usr/<span class="built_in">local</span>/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># mysql data storage directory</span></span><br><span class="line">datadir = /usr/<span class="built_in">local</span>/mysql/data</span><br><span class="line"></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">port = 3306</span><br><span class="line"></span><br><span class="line"><span class="comment"># The machine serial number is 1, indicating the master</span></span><br><span class="line">server_id = 1</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set mysql server socket file location</span></span><br><span class="line">socket = /usr/<span class="built_in">local</span>/mysql/mysql.sock</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the maximum number of mysql connections</span></span><br><span class="line">max_connections = 20</span><br><span class="line"></span><br><span class="line"><span class="comment"># The character set used by the server defaults to the 8-bit encoded latin1 character set.</span></span><br><span class="line">character-set-server = UTF8MB4</span><br><span class="line"></span><br><span class="line"><span class="comment"># Default storage engine to be used when creating a new table</span></span><br><span class="line">default-storage-engine = INNODB</span><br><span class="line"></span><br><span class="line"><span class="comment"># The size of the buffer that can be used by the joint query operation is the same as the sort_buffer_size. The allocated memory corresponding to this parameter is also exclusive for each connection.</span></span><br><span class="line">join_buffer_size = 128M</span><br><span class="line"></span><br><span class="line"><span class="comment"># MySQL performs the buffer size used for sorting. If you want to increase the speed of ORDER BY, first look at whether you can let MySQL use the index instead of the extra sorting stage.</span></span><br><span class="line">sort_buffer_size = 8M</span><br><span class="line"></span><br><span class="line"><span class="comment"># MySQL random read buffer size. When rows are read in any order (for example, in sort order), a random read buffer is allocated.</span></span><br><span class="line">read_rnd_buffer_size = 4M </span><br><span class="line"></span><br><span class="line"><span class="comment"># A transaction, when not submitted, the generated log is recorded in the Cache; when the transaction commits need to be submitted, the log is persisted to disk.</span></span><br><span class="line"><span class="comment"># default binlog_cache_size size 32K</span></span><br><span class="line">binlog_cache_size = 1M</span><br><span class="line"></span><br><span class="line"><span class="comment"># This value (default 8) means that the number of threads stored in the cache can be reused. If there is space in the cache when disconnected, the client thread will be put into the cache.</span></span><br><span class="line"><span class="comment"># If the thread is requested again, the request will be read from the cache. If the cache is empty or a new request, then the thread will be recreated. If there are many new threads,</span></span><br><span class="line"><span class="comment"># Increase this value to improve system performance. You can see the effect of this variable by comparing the variables in the Connections and Threads_created states. (–&gt; indicates the value to be adjusted)</span></span><br><span class="line"><span class="comment"># According to the physical memory setting rules are as follows:</span></span><br><span class="line"><span class="comment"># 1G  —&gt; 8</span></span><br><span class="line"><span class="comment"># 2G  —&gt; 16</span></span><br><span class="line"><span class="comment"># 3G  —&gt; 32</span></span><br><span class="line"><span class="comment"># Greater than 3G —&gt; 64</span></span><br><span class="line">thread_cache_size = 8</span><br><span class="line"></span><br><span class="line"><span class="comment"># MySQL query buffer size (starting with 4.0.1, MySQL provides a query buffer mechanism) using query buffer, MySQL stores the SELECT statement and query results in a buffer.</span></span><br><span class="line"><span class="comment"># In the future, for the same SELECT statement (case sensitive), the result will be read directly from the buffer. According to the MySQL user manual, using query buffers can achieve up to 238% efficiency.</span></span><br><span class="line"><span class="comment"># By checking the status value &#x27;Qcache_%&#x27;, you can know whether the query_cache_size setting is reasonable: If the value of Qcache_lowmem_prunes is very large, it indicates that the buffering is not enough.</span></span><br><span class="line"><span class="comment"># If the value of Qcache_hits is also very large, it means that the query buffer is used very frequently. In this case, you need to increase the buffer size. If the value of Qcache_hits is not large, it means that your query repetition rate is very low.</span></span><br><span class="line"><span class="comment"># In this case, using query buffer will affect efficiency, so you can consider not using query buffer. In addition, adding SQL_NO_CACHE to the SELECT statement can explicitly indicate that the query buffer is not used.</span></span><br><span class="line"><span class="comment"># query_cache_size = 8M</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify the buffer size that a single query can use, default 1M</span></span><br><span class="line"><span class="comment"># query_cache_limit = 2M</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify the buffer size for the index, increase it to get a better deal of the index (for all reads and multiple rewrites), as much as you can afford. If you make it too big,</span></span><br><span class="line"><span class="comment"># The system will start to change pages and it really slows down. For servers with 4GB or so memory, this parameter can be set to 384M or 512M. By checking the status values Key_read_requests and Key_reads,</span></span><br><span class="line"><span class="comment"># You can know if the key_buffer_size setting is reasonable. The ratio key_reads/key_read_requests should be as lw as possible,</span></span><br><span class="line"><span class="comment"># at least 1:100, 1:1000 is better (the above status values can be obtained using SHOW STATUS LIKE &#x27;key_read%&#x27;). Note: The parameter value is set too large, but the overall efficiency of the server is reduced.</span></span><br><span class="line">key_buffer_size = 4M</span><br><span class="line"></span><br><span class="line"><span class="comment">#  Minimum length, default 4</span></span><br><span class="line">ft_min_word_len = 4</span><br><span class="line"></span><br><span class="line"><span class="comment"># MySQL supports 4 transaction isolation levels, they are:</span></span><br><span class="line"><span class="comment"># READ-UNCOMMITTED, READ-COMMITTED, REPEATABLE-READ, SERIALIZABLE.</span></span><br><span class="line"><span class="comment"># If not specified, MySQL defaults to REPEATABLE-READ, ORACLE defaults to READ-COMMITTED</span></span><br><span class="line">transaction_isolation = REPEATABLE-READ</span><br><span class="line"></span><br><span class="line"><span class="comment"># default time zone</span></span><br><span class="line">default-time_zone = <span class="string">&#x27;+8:00&#x27;</span></span><br><span class="line"></span><br><span class="line">sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES,NO_ZERO_DATE,NO_ZERO_IN_DATE,ERROR_FOR_DIVISION_BY_ZERO</span><br></pre></td></tr></table></figure>
<ol>
<li>添加mysql的环境变量</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo nvim /etc/profile</span><br><span class="line"><span class="comment">#在export PATH后面一行加入以下内容</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/usr/<span class="built_in">local</span>/mysql/bin</span><br></pre></td></tr></table></figure>
<ol>
<li>启动mysql.server</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/mysql/support-files</span><br><span class="line">./mysql.server start</span><br></pre></td></tr></table></figure>
<ol>
<li>登陆mysql</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line"><span class="comment"># 输入密码后进入mysql,进行修改密码</span></span><br><span class="line">alter user <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified with native_mysql_password by <span class="string">&#x27;root&#x27;</span>;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>
<p>至此，安装完成</p>
<h1 id="Mysql管理"><a href="#Mysql管理" class="headerlink" title="Mysql管理"></a>Mysql管理</h1><ul>
<li>使用mycli进行管理。</li>
</ul>
<p>常用连接命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mycli -u root -host localhost</span><br></pre></td></tr></table></figure>
<ul>
<li>使用phpmyadmin管理</li>
</ul>
<p>这个就是可视化管理</p>
<h1 id="安装中的一些问题-amp-解决"><a href="#安装中的一些问题-amp-解决" class="headerlink" title="安装中的一些问题&amp;解决"></a>安装中的一些问题&amp;解决</h1><ul>
<li>error while loading shared libraries: libnuma.so.1</li>
</ul>
<p>安装numactl软件包就可以解决</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S numactl</span><br></pre></td></tr></table></figure>
<ul>
<li>没有libtinfo.so.5</li>
</ul>
<p>根据libtinfo.so.6,创建一个libtinfo.so.5的软链接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/lib/libtinfo.so.6 /usr/lib/libtinfo.so.5</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/15/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="moonaa's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/15/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-06-15T00:37:01+08:00">
                2021-06-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/12/linux/linux-shell%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="moonaa's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/12/linux/linux-shell%E5%AD%A6%E4%B9%A0/" itemprop="url">linux-shell学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-06-12T11:21:25+08:00">
                2021-06-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Shell的一些规定"><a href="#Shell的一些规定" class="headerlink" title="Shell的一些规定"></a>Shell的一些规定</h1><ol>
<li>必须指定shell的类型，常用的是bash</li>
<li>赋予可执行权限(X)，或者使用sh进行运行</li>
</ol>
<p><strong>Example</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">nvim hello_world.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">===开始编写shell===</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> !/bin/bash</span></span><br><span class="line">echo &quot;hello world&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash">===wq退出保存======</span></span><br><span class="line">chmod 755 hello_world.sh # 也可以不赋予X权限，但是需要使用sh &lt;shell name&gt;执行</span><br><span class="line">./hello_world.sh</span><br></pre></td></tr></table></figure>
<h1 id="Shell变量"><a href="#Shell变量" class="headerlink" title="Shell变量"></a>Shell变量</h1><h2 id="变量命名以及赋值"><a href="#变量命名以及赋值" class="headerlink" title="变量命名以及赋值"></a>变量命名以及赋值</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> &lt;variable&gt;=&lt;value&gt; 普通变量</span></span><br><span class="line">A=10</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">readonly</span> &lt;variable&gt;=&lt;value&gt; 静态变量</span></span><br></pre></td></tr></table></figure>
<h2 id="使用变量"><a href="#使用变量" class="headerlink" title="使用变量"></a>使用变量</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> $&lt;variable&gt;</span></span><br><span class="line">echo $A</span><br></pre></td></tr></table></figure>
<h2 id="释放变量（非静态）"><a href="#释放变量（非静态）" class="headerlink" title="释放变量（非静态）"></a>释放变量（非静态）</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="built_in">unset</span> &lt;variable&gt;</span></span><br><span class="line">unset A</span><br></pre></td></tr></table></figure>
<h2 id="先执行指令在赋值"><a href="#先执行指令在赋值" class="headerlink" title="先执行指令在赋值"></a>先执行指令在赋值</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A=`date` # 先执行date,然后将值赋值给A</span><br><span class="line">A=$&#123;date&#125; #同上</span><br></pre></td></tr></table></figure>
<h2 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">export</span> &lt;path variable&gt;=&lt;value&gt;</span></span><br><span class="line">export https_proxy=127.0.0.1:7890</span><br><span class="line"><span class="meta">#</span><span class="bash"> 若是需要写入/etc/profile等一起他类似文件的环境变量，需要重新家在环境变量配置文件：<span class="built_in">source</span> &lt;path&gt;</span></span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>
<p><strong>多行注释，并不是重点</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;!</span><br><span class="line">A=`date`</span><br><span class="line">!</span><br></pre></td></tr></table></figure>
<h1 id="获取参数"><a href="#获取参数" class="headerlink" title="获取参数"></a>获取参数</h1><ul>
<li><p><code>$&lt;number&gt; 指定位置参数</code></p>
</li>
<li><p><code>$* 所有参数</code></p>
</li>
<li><p><code>$@ 分割后的参数</code></p>
</li>
<li><p><code>$# 参数个数</code></p>
</li>
<li><p><code>$$ 获取当前程序PID</code></p>
</li>
<li><p><code>$1 获取最后一个程序PID</code></p>
</li>
<li><p><code>$- 使用Set命令设定的Flag一览</code></p>
</li>
<li><p><code>$? 上一条执行结果，0是成功</code></p>
</li>
</ul>
<h1 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h1><ul>
<li><code>$(())</code></li>
<li><code>$[]</code></li>
<li><code>expr m + n</code>，这个要求数字与数字之间必须空格分割，并且*需要用\进行转义</li>
</ul>
<h1 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h1><h1 id="比较符号"><a href="#比较符号" class="headerlink" title="比较符号"></a>比较符号</h1><ul>
<li>-lt：&lt;</li>
<li>-le：&lt;=</li>
<li>-eq：=</li>
<li>-gt：&gt;</li>
<li>-ge：&gt;=</li>
<li>-ne：！=</li>
</ul>
<h2 id="文件判断"><a href="#文件判断" class="headerlink" title="文件判断"></a>文件判断</h2><ul>
<li>-r：读权限</li>
<li>-w：写权限</li>
<li>-x：执行权限</li>
<li>-f：文件存在&amp;常规</li>
<li>-e：文件存在</li>
<li>-d：目录存在</li>
</ul>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><ul>
<li>if控制</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if [ &lt;condition&gt; ]</span><br><span class="line">then</span><br><span class="line">	&lt;code&gt;</span><br><span class="line">elif [ &lt;condition&gt; ]</span><br><span class="line">then</span><br><span class="line">	&lt;code&gt;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>
<ul>
<li>case控制</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">case &lt;variable&gt; in</span><br><span class="line">&lt;value&gt;)</span><br><span class="line">	&lt;code&gt;</span><br><span class="line">;;</span><br><span class="line">&lt;value&gt;)</span><br><span class="line">	&lt;code&gt;</span><br><span class="line">;; </span><br><span class="line">esac</span><br></pre></td></tr></table></figure>
<p><strong>Example</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> condition.sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> hello_world existed ?</span></span><br><span class="line">if [ -f ~/Documents/learn-linux/shell/hello_world.sh ]</span><br><span class="line">then</span><br><span class="line">    echo 1</span><br><span class="line">fi</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="string">&quot;ok&quot;</span> == <span class="string">&quot;ok&quot;</span> ?</span></span><br><span class="line">if [ &quot;ok&quot; = &quot;ok&quot; ]</span><br><span class="line">then</span><br><span class="line">    echo 2</span><br><span class="line">fi</span><br><span class="line"><span class="meta">#</span><span class="bash"> 23 &lt;= 25 ?</span></span><br><span class="line">if [ 23 -le 25 ]</span><br><span class="line">then</span><br><span class="line">    echo 3</span><br><span class="line">fi</span><br><span class="line"><span class="meta">#</span><span class="bash">==================</span></span><br><span class="line">./condition.sh</span><br></pre></td></tr></table></figure>
<img src="/2021/06/12/linux/linux-shell%E5%AD%A6%E4%B9%A0/conditionsh.png" class="conditionsh">
<ul>
<li>for循环</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="keyword">for</span> <span class="keyword">in</span>结构</span></span><br><span class="line">for &lt;variable&gt; in values</span><br><span class="line">do</span><br><span class="line">	&lt;code&gt;</span><br><span class="line">done</span><br><span class="line"><span class="meta">#</span><span class="bash"> 普通<span class="keyword">for</span>结构</span></span><br><span class="line">for (( &lt;variable&gt; = &lt;start&gt;; &lt;variable&gt;&lt;=&lt;end&gt;;&lt;variable&gt;++))</span><br><span class="line">do</span><br><span class="line">	&lt;code&gt;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<ul>
<li>while循环</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while [ condition ]</span><br><span class="line">do</span><br><span class="line">	&lt;code&gt;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<h1 id="读取输入"><a href="#读取输入" class="headerlink" title="读取输入"></a>读取输入</h1><p>read (option) (paramater)</p>
<p>option: </p>
<ul>
<li>-p: 提示信息</li>
<li>-t：等待时间</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">read</span> -t &lt;time&gt; -p &lt;string of hint&gt; &lt;variable&gt;</span></span><br><span class="line">read -t 10 -p &quot;请输入数字:&quot;NUM1</span><br><span class="line">echo $NUM1</span><br></pre></td></tr></table></figure>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><ul>
<li>系统函数：<ul>
<li>basename</li>
<li>dirname</li>
<li>date</li>
<li>ls</li>
<li>……</li>
</ul>
</li>
<li>自定义函数</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function &lt;funname&gt;()</span><br><span class="line">&#123;</span><br><span class="line">	&lt;code&gt;</span><br><span class="line">	[return int;] #可选</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Example</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function getSum()</span><br><span class="line">&#123;</span><br><span class="line">	echo &quot;sum=$1+$2&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getSum $1 $2</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/10/linux/linux-learn-service/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="moonaa's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/10/linux/linux-learn-service/" itemprop="url">linux-服务管理学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-06-10T21:18:51+08:00">
                2021-06-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="服务管理"><a href="#服务管理" class="headerlink" title="服务管理"></a>服务管理</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> list-unit-files显示服务</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">enable</span>/<span class="built_in">disable</span>开启启动/关闭</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> status/start/stop/restart查看状态/开启/关闭/重启</span></span><br><span class="line">systemctl list-unit-files</span><br></pre></td></tr></table></figure>
<img src="/2021/06/10/linux/linux-learn-service/systemctllistunitfiles.png" class="systemctllistunitfiles">
<h1 id="监控网络状态"><a href="#监控网络状态" class="headerlink" title="监控网络状态"></a>监控网络状态</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ss arch下默认，netstat centos下默认</span></span><br><span class="line">ss -anp # 显示所有sockets进程，同时不解析域名</span><br></pre></td></tr></table></figure>
<img src="/2021/06/10/linux/linux-learn-service/ss-anp.png" class="ssanp">
<h1 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h1><h2 id="指令方式管理"><a href="#指令方式管理" class="headerlink" title="指令方式管理"></a>指令方式管理</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> --permnant 永久生效</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --add-port 添加过滤端口</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --remove-port 移除过滤端口</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --reload 重新加载</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --query-port 查询指定端口</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> get-services 显示所有过滤服务</span></span><br><span class="line">firewall-cmd --permnant --add-port &lt;port&gt;</span><br></pre></td></tr></table></figure>
<h2 id="界面管理"><a href="#界面管理" class="headerlink" title="界面管理"></a>界面管理</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-config</span><br></pre></td></tr></table></figure>
<img src="/2021/06/10/linux/linux-learn-service/firewalld-config.png" class="firewallconfig">

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/10/linux/linux-learn-process/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="moonaa's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/10/linux/linux-learn-process/" itemprop="url">linux-进程管理学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-06-10T21:12:11+08:00">
                2021-06-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="资源管理器"><a href="#资源管理器" class="headerlink" title="资源管理器"></a>资源管理器</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -d &lt;seconds&gt; 多少秒刷新一次</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -i 不显示僵尸进程</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -p 指定监视的进程</span></span><br><span class="line">top</span><br><span class="line"><span class="meta">#</span><span class="bash"> 交互操作，仅限进入top后</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> P 以CPU排序</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> M 以内存排序</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> N 以PID排序</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> u &lt;username&gt; 监视指定用户的进程</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> k &lt;PID&gt; 终止指定进程，如果是需要强制终止，后续会有提示send pid xxx signal输入9强制终止</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> q 退出</span></span><br></pre></td></tr></table></figure>

<h1 id="进程查看"><a href="#进程查看" class="headerlink" title="进程查看"></a>进程查看</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -aux # 不显示父子关系</span><br></pre></td></tr></table></figure>
<img src="/2021/06/10/linux/linux-learn-process/ps-aux.png" class="ps-aux">ps-a

| 表头    | 名称          | 参数解释                                                     |
| ------- | ------------- | ------------------------------------------------------------ |
| PID     | 进程编号      |                                                              |
| USER    | 用户名        |                                                              |
| %CPU    | 占用CPU       |                                                              |
| %MEM    | 占用内存      |                                                              |
| VSZ     | 占用虚拟内存  |                                                              |
| RSS     | 占用物理内存  |                                                              |
| TT      | 终端名        |                                                              |
| STAT    | 进程状态      | S=休眠 s=某个会话的先导进程 N=比普通进程优先级更低 R=运行 D=短时间等待 Z=僵尸进程 T=被追踪的进程 |
| TIME    | 在CPU中的时间 |                                                              |
| COMMAND | 使用的命令    |                                                              |

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef # 显示进程之间的父子关系</span><br></pre></td></tr></table></figure>
<img src="/2021/06/10/linux/linux-learn-process/ps-ef.png" class="ps-ef">
<h1 id="终止进程"><a href="#终止进程" class="headerlink" title="终止进程"></a>终止进程</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 使用ps指定找出需要终止的进程</span></span><br><span class="line">ps -aux | grep &lt;what you want to match&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 根据PID终止进程</span></span><br><span class="line">kill &lt;PID&gt; # 如果需要强制终止加上-9: kill -9 &lt;PID&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 终止父进程同时，终止子进程</span></span><br><span class="line">killall &lt;name&gt;</span><br></pre></td></tr></table></figure>
<h1 id="树状显示进程"><a href="#树状显示进程" class="headerlink" title="树状显示进程"></a>树状显示进程</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -u 显示用户名</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -p 显示进程号</span></span><br><span class="line">pstree -up</span><br></pre></td></tr></table></figure>
<img src="/2021/06/10/linux/linux-learn-process/pstree-up.png" class="pstree-up">

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/10/linux/linux-learn-filesystem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="moonaa's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/10/linux/linux-learn-filesystem/" itemprop="url">linux-文件系统学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-06-10T19:39:40+08:00">
                2021-06-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="文件目录"><a href="#文件目录" class="headerlink" title="文件目录"></a>文件目录</h1><ul>
<li>/bin：常用指令的存放地</li>
<li>/sbin：super bin，意味着管理员才能使用的命令</li>
<li>/home：普通用户的主目录</li>
<li>/root：管理员的主目录</li>
<li>/boot：启动linux所需要的核心文件</li>
<li>proc：虚拟目录，是系统内存的映射</li>
<li>/srv：service，存放服务启动后提取的数据</li>
<li>/sys：文件系统</li>
<li>/tmp：临时文件</li>
<li>/media：自动识别出来的一些设备</li>
<li>/mnt：挂载的地点</li>
<li>/opt：给主机额外安装软件所摆放的目录</li>
<li>/var：一般会放置日志文件</li>
<li>/selinux：是一中安全的子系统，他能控制程序只能访问特定文件</li>
</ul>
<h1 id="RWX"><a href="#RWX" class="headerlink" title="RWX"></a>RWX</h1><ul>
<li><p>R(read)=读</p>
<ul>
<li>对于文件夹来讲，表示可以删除、列出文件</li>
<li>对于文件来讲，表示可以读取</li>
</ul>
</li>
<li><p>W(write)=写</p>
<ul>
<li>对于文件夹来讲，可以创建文件夹</li>
<li>对于文件来讲，额可以写入</li>
</ul>
</li>
<li><p>X(excute)=执行</p>
<ul>
<li><p>对于文件夹来讲，可以进入目录</p>
</li>
<li><p>对于文件来讲，可以执行文件分区&amp;挂载&amp;卸载</p>
<p>查看硬盘或分区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk # 或者使用lsblk -f</span><br></pre></td></tr></table></figure>
<p>对硬盘分区</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cfdisk /dev/sdx # sdx中的x可以代表a,b,c,d</span><br></pre></td></tr></table></figure>
<p>挂载(<strong>需要注意，命令行下的挂载重启后会失效，如果想永久生效，需要修改/etc/fstab中的映射关系</strong>)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 需要先自己添加目录</span></span><br><span class="line">mkdir newdiskdir # 假设创建在/（根目录）下</span><br><span class="line">mount /dev/sda1 /newdiskdir</span><br></pre></td></tr></table></figure>
<p>卸载</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount /dev/sda1 #递归卸载：umount -R /dev/sda1</span><br></pre></td></tr></table></figure>
<h1 id="磁盘占用率"><a href="#磁盘占用率" class="headerlink" title="磁盘占用率"></a>磁盘占用率</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df -h # 查看磁盘占用率，高于80%，需要清除空间，或是添加行硬盘</span><br></pre></td></tr></table></figure>
<img src="/2021/06/10/linux/linux-learn-filesystem/df-h.png" class="df-h">
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -h 带单位</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -s 汇总</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> --max-depth=1 深度</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -a 含文件</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -c 明细</span></span><br><span class="line">du # 查询指定目录，不携带目录，表示查询当前目录</span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如使用以下指定</span></span><br><span class="line">du -hac --max-depth=1 /opt</span><br></pre></td></tr></table></figure>
<img src="/2021/06/10/linux/linux-learn-filesystem/du-hac-maxdeep.png" class="du-hac--max-depth&#x3D;1opt">
<h1 id="文件计数"><a href="#文件计数" class="headerlink" title="文件计数"></a>文件计数</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 汇总/opt目录下所有文件加的数目</span></span><br><span class="line">ls -lR | grep &quot;^-&quot; | wc -l</span><br></pre></td></tr></table></figure>
<img src="/2021/06/10/linux/linux-learn-filesystem/lslRgrepwcl.png" class="lslRgrepwcl">
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 以树状图显示文件目录, 若没有tree，先安装tree</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 以archlinux为例：sudo pacman -S tree</span></span><br><span class="line">tree /opt</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/06/10/test-latex/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="moonaa's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/06/10/test-latex/" itemprop="url">test latex</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-06-10T17:25:51+08:00">
                2021-06-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>$\pi$<br>$\int<em>a^b f(x) dx$<br>\(lim</em>{x\rightarrow \infty}\frac{1}{\sin x}\)<br>\(lim_{n\rightarrow \infty}(1+2^n+3^n)^\frac{1}{x+\sin n}\)</p>
<p>$x \lt y$</p>
<script type="math/tex; mode=display">\rightarrow</script><script type="math/tex; mode=display">
\rightarrow</script><p>$12312$</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">moonaa</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
